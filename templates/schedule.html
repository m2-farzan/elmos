<!DOCTYPE html>
<html dir="rtl">
  <head>
    <meta charset="utf-8">
    <title>برنامه هفتگی</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/schedule.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.10/dist/css/bootstrap-select.min.css">
  </head>
  <body>
      <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
    <header class="masthead mb-auto">
        <div class="inner">
          <h3 class="masthead-brand">
            <a href="/">دستیار انتخاب واحد علموصیها</a>
            <small id="connecting" class="sync invisible">در حال همگام سازی...</small>
          </h3>
          <nav class="nav nav-masthead justify-content-center">
            <a class="nav-link active" href="/schedule">برنامه هفتگی</a>
            <a class="nav-link" href="/exams">برنامه امتحانات</a>
            <a class="nav-link" href="/summary">خلاصه وضعیت</a>
            <a class="nav-link" href="/logout">خروج</a>
          </nav>
        </div>
    </header>
    
    <main role="main" class="inner cover">
      <div class="row" style="margin:0px">
        <div class="schedule-table" id="schedule-table">
        </div>
        <div class="left-panel vertical">
          
          <p>دانشکده شما:</p>
          
          <div>
            <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{user_department.name}}">
            {% for unit in user_department.units %}
              <option 
              
                data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
              
               >{{unit.id}}</option>
            {% endfor %}
            </select>
          </div>
          
          <p>دانشکده های عمومی:</p>
          
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k90.name}}">
          {% for unit in departments_by_key.k90.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
          
          
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k14.name}}">
          {% for unit in departments_by_key.k14.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
          
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k16.name}}">
          {% for unit in departments_by_key.k16.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
          
<!--
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k26.name}}">
          {% for unit in departments_by_key.k26.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
-->
          
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k28.name}}">
          {% for unit in departments_by_key.k28.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
          
          <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="{{departments_by_key.k27.name}}">
          {% for unit in departments_by_key.k27.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </select>
          </div>
          
          <p>همه دانشکده ها:</p>
          
                    <div>
          <select class="selectpicker unit_select" multiple data-width="18em" data-live-search="true" data-selected-text-format="static" title="همه دانشکده ها">
          {% for dep in departments_list %}
           <optgroup label="{{dep.name}}">
          {% for unit in dep.units %}
            <option 
            
              data-content="<p id='{{unit.id}}_data' class='data_info' data-id='{{unit.id}}' data-name='{{unit.name}}' data-instructor='{{unit.instructor}}' data-time-start-1='{{unit.time_start_1}}' data-time-end-1='{{unit.time_end_1}}' data-weekday-1='{{unit.weekday_1}}' data-time-start-2='{{unit.time_start_2}}' data-time-end-2='{{unit.time_end_2}}' data-weekday-2='{{unit.weekday_2}}'><div><p class='list_unit_name'>{{unit.name}}</p><p class='list_unit_instructor'>{{unit.instructor}}</p></div>"
            
             >{{unit.id}}</option>
          {% endfor %}
          </optgroup>
          {% endfor %}
          </select>
          </div>
          
      </div>
    </main>
    
    <footer class="mastfoot mt-auto">
      <div class="inner">
        <p>
  این سایت شخصی و غیر رسمیه و با دانشگاه علم و صنعت در ارتباط نیست. ایمیل من: m2_farzan@yahoo.com
        </p>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.10/dist/js/bootstrap-select.min.js"></script>
    <script src="/scripts/schedule.js"></script>
    <script>
    $('.unit_select').on('loaded.bs.select', function (e, clickedIndex, isSelected, previousValue) {
      var arr = []
      {% for unit in user_units %}
      arr.push('{{unit.id}}');
      {% endfor %}
      $('.unit_select').selectpicker('val',arr);
    });
    {% for unit in user_units %}
    disp_item({{unit.id}}, '{{unit.name}}', '{{unit.instructor}}', {{unit.weekday_1}}, {{unit.time_start_1}}, {{unit.time_end_1}}, {{unit.weekday_2}}, {{unit.time_start_2}}, {{unit.time_end_2}}, false);
    {% endfor %}
    </script>
  </body>
</html>
